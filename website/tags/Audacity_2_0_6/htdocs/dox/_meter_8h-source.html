<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Audacity: Meter.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="dir_adfc63277209eec55cb7e0afee0e8d0e.html">src</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_d66f3167013e2b17e86f9d1cc7296a15.html">widgets</a>
  </div>
</div>
<div class="contents">
<h1>Meter.h</h1><a href="_meter_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001    <span class="comment">/**********************************************************************</span>
<a name="l00002"></a>00002 <span class="comment"></span>
<a name="l00003"></a>00003 <span class="comment">  Audacity: A Digital Audio Editor</span>
<a name="l00004"></a>00004 <span class="comment"></span>
<a name="l00005"></a>00005 <span class="comment">  Meter.h</span>
<a name="l00006"></a>00006 <span class="comment"></span>
<a name="l00007"></a>00007 <span class="comment">  Dominic Mazzoni</span>
<a name="l00008"></a>00008 <span class="comment"></span>
<a name="l00009"></a>00009 <span class="comment">  VU Meter, for displaying recording/playback level</span>
<a name="l00010"></a>00010 <span class="comment"></span>
<a name="l00011"></a>00011 <span class="comment">  This is a bunch of common code that can display many different</span>
<a name="l00012"></a>00012 <span class="comment">  forms of VU meters and other displays.</span>
<a name="l00013"></a>00013 <span class="comment"></span>
<a name="l00014"></a>00014 <span class="comment">**********************************************************************/</span>
<a name="l00015"></a>00015 
<a name="l00016"></a>00016 <span class="preprocessor">#ifndef __AUDACITY_METER__</span>
<a name="l00017"></a>00017 <span class="preprocessor"></span><span class="preprocessor">#define __AUDACITY_METER__</span>
<a name="l00018"></a>00018 <span class="preprocessor"></span>
<a name="l00019"></a>00019 <span class="preprocessor">#include &lt;wx/defs.h&gt;</span>
<a name="l00020"></a>00020 <span class="preprocessor">#include &lt;wx/panel.h&gt;</span>
<a name="l00021"></a>00021 <span class="preprocessor">#include &lt;wx/timer.h&gt;</span>
<a name="l00022"></a>00022 
<a name="l00023"></a>00023 <span class="preprocessor">#include "../SampleFormat.h"</span>
<a name="l00024"></a>00024 <span class="preprocessor">#include "../Sequence.h"</span>
<a name="l00025"></a>00025 <span class="preprocessor">#include "<a class="code" href="_ruler_8h.html">Ruler.h</a>"</span>
<a name="l00026"></a>00026 
<a name="l00027"></a>00027 <span class="comment">// Increase this when we add support for multichannel meters</span>
<a name="l00028"></a>00028 <span class="comment">// (most of the code is already there)</span>
<a name="l00029"></a><a class="code" href="_meter_8h.html#378e3b97f3b428008f261c1106c8852e">00029</a> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="_meter_8h.html#378e3b97f3b428008f261c1106c8852e">kMaxMeterBars</a> = 2;
<a name="l00030"></a>00030 
<a name="l00031"></a><a class="code" href="struct_meter_bar.html">00031</a> <span class="keyword">struct </span><a class="code" href="struct_meter_bar.html" title="A struct used by Meter to hold the position of one bar.">MeterBar</a> {
<a name="l00032"></a><a class="code" href="struct_meter_bar.html#842a6130e175626ac4bcf3e1df60e7b0">00032</a>    <span class="keywordtype">bool</span>   <a class="code" href="struct_meter_bar.html#842a6130e175626ac4bcf3e1df60e7b0">vert</a>;
<a name="l00033"></a><a class="code" href="struct_meter_bar.html#e0020ac33b767c882cad1d6e0e1d3f1a">00033</a>    wxRect <a class="code" href="struct_meter_bar.html#e0020ac33b767c882cad1d6e0e1d3f1a">r</a>;
<a name="l00034"></a><a class="code" href="struct_meter_bar.html#4b4aafca88830dbc403688711e780de9">00034</a>    <span class="keywordtype">float</span>  <a class="code" href="struct_meter_bar.html#4b4aafca88830dbc403688711e780de9">peak</a>;
<a name="l00035"></a><a class="code" href="struct_meter_bar.html#68fedd727318bcce9d423fc527c7fd45">00035</a>    <span class="keywordtype">float</span>  <a class="code" href="struct_meter_bar.html#68fedd727318bcce9d423fc527c7fd45">rms</a>;
<a name="l00036"></a><a class="code" href="struct_meter_bar.html#f2ef854ab333ad2fd57402b0bc748d37">00036</a>    <span class="keywordtype">float</span>  <a class="code" href="struct_meter_bar.html#f2ef854ab333ad2fd57402b0bc748d37">peakHold</a>;
<a name="l00037"></a><a class="code" href="struct_meter_bar.html#d725e2ab4a80593e0de3d59300256f1b">00037</a>    <span class="keywordtype">double</span> <a class="code" href="struct_meter_bar.html#d725e2ab4a80593e0de3d59300256f1b">peakHoldTime</a>;
<a name="l00038"></a><a class="code" href="struct_meter_bar.html#1228c67130a0299e865782a7759d8a08">00038</a>    wxRect <a class="code" href="struct_meter_bar.html#1228c67130a0299e865782a7759d8a08">rClip</a>;
<a name="l00039"></a><a class="code" href="struct_meter_bar.html#ad87b78a5556c0d9eb16855c5025164b">00039</a>    <span class="keywordtype">bool</span>   <a class="code" href="struct_meter_bar.html#ad87b78a5556c0d9eb16855c5025164b">clipping</a>;
<a name="l00040"></a><a class="code" href="struct_meter_bar.html#26612b507724e134343daa4d2eb238f0">00040</a>    <span class="keywordtype">bool</span>   <a class="code" href="struct_meter_bar.html#26612b507724e134343daa4d2eb238f0">isclipping</a>;
<a name="l00041"></a><a class="code" href="struct_meter_bar.html#64cc0b3fd7fce6ae589ea4ce5721f1b0">00041</a>    <span class="keywordtype">int</span>    <a class="code" href="struct_meter_bar.html#64cc0b3fd7fce6ae589ea4ce5721f1b0">tailPeakCount</a>;
<a name="l00042"></a><a class="code" href="struct_meter_bar.html#41b9908cda24b5d06b72fbae569c9904">00042</a>    <span class="keywordtype">float</span>  <a class="code" href="struct_meter_bar.html#41b9908cda24b5d06b72fbae569c9904">peakPeakHold</a>;
<a name="l00043"></a>00043 };
<a name="l00044"></a>00044 
<a name="l00045"></a><a class="code" href="class_meter_update_msg.html">00045</a> <span class="keyword">class </span><a class="code" href="class_meter_update_msg.html" title="Message used to update the Meter.">MeterUpdateMsg</a>
<a name="l00046"></a>00046 {
<a name="l00047"></a>00047    <span class="keyword">public</span>:
<a name="l00048"></a><a class="code" href="class_meter_update_msg.html#075414b7b82c0c40fecce46c2dddc217">00048</a>    <span class="keywordtype">int</span> <a class="code" href="class_meter_update_msg.html#075414b7b82c0c40fecce46c2dddc217">numFrames</a>;
<a name="l00049"></a><a class="code" href="class_meter_update_msg.html#375b091b583aa3f7cee515d8033c8f2e">00049</a>    <span class="keywordtype">float</span> <a class="code" href="class_meter_update_msg.html#375b091b583aa3f7cee515d8033c8f2e">peak</a>[<a class="code" href="_meter_8h.html#378e3b97f3b428008f261c1106c8852e">kMaxMeterBars</a>];
<a name="l00050"></a><a class="code" href="class_meter_update_msg.html#afa73fca5107d8c49302cd0227edc8a5">00050</a>    <span class="keywordtype">float</span> <a class="code" href="class_meter_update_msg.html#afa73fca5107d8c49302cd0227edc8a5">rms</a>[<a class="code" href="_meter_8h.html#378e3b97f3b428008f261c1106c8852e">kMaxMeterBars</a>];
<a name="l00051"></a><a class="code" href="class_meter_update_msg.html#0ddff66f9567976e0c80174e5a5957eb">00051</a>    <span class="keywordtype">bool</span> <a class="code" href="class_meter_update_msg.html#0ddff66f9567976e0c80174e5a5957eb">clipping</a>[<a class="code" href="_meter_8h.html#378e3b97f3b428008f261c1106c8852e">kMaxMeterBars</a>];
<a name="l00052"></a><a class="code" href="class_meter_update_msg.html#40b555082e30dc672fe64122f7e250af">00052</a>    <span class="keywordtype">int</span> <a class="code" href="class_meter_update_msg.html#40b555082e30dc672fe64122f7e250af">headPeakCount</a>[<a class="code" href="_meter_8h.html#378e3b97f3b428008f261c1106c8852e">kMaxMeterBars</a>];
<a name="l00053"></a><a class="code" href="class_meter_update_msg.html#3c6bf541dc0bf9a9580eeb279ad0c9c9">00053</a>    <span class="keywordtype">int</span> <a class="code" href="class_meter_update_msg.html#3c6bf541dc0bf9a9580eeb279ad0c9c9">tailPeakCount</a>[<a class="code" href="_meter_8h.html#378e3b97f3b428008f261c1106c8852e">kMaxMeterBars</a>];
<a name="l00054"></a>00054 
<a name="l00055"></a>00055    <span class="comment">/* neither constructor nor destructor do anything */</span>
<a name="l00056"></a><a class="code" href="class_meter_update_msg.html#6736d3e6a768c350458dc7751dfa6277">00056</a>    <a class="code" href="class_meter_update_msg.html#6736d3e6a768c350458dc7751dfa6277">MeterUpdateMsg</a>() { };
<a name="l00057"></a><a class="code" href="class_meter_update_msg.html#dc7060b0ebaeab7006d0a1084f6cf775">00057</a>    <a class="code" href="class_meter_update_msg.html#dc7060b0ebaeab7006d0a1084f6cf775">~MeterUpdateMsg</a>() { };
<a name="l00058"></a>00058    <span class="comment">/* for debugging purposes, printing the values out is really handy */</span>
<a name="l00060"></a>00060    wxString <a class="code" href="class_meter_update_msg.html#ae228879729846fe7ca7f0c7e176d17f" title="Print out all the values in the meter update message.">toString</a>();
<a name="l00062"></a>00062    wxString <a class="code" href="class_meter_update_msg.html#8479d3be570d3faee502cf21dc0cec64" title="Only print meter updates if clipping may be happening.">toStringIfClipped</a>();
<a name="l00063"></a>00063 };
<a name="l00064"></a>00064 
<a name="l00065"></a>00065 <span class="comment">// Thread-safe queue of update messages</span>
<a name="l00066"></a><a class="code" href="class_meter_update_queue.html">00066</a> <span class="keyword">class </span><a class="code" href="class_meter_update_queue.html" title="Queue of MeterUpdateMsg used to feed the Meter.">MeterUpdateQueue</a>
<a name="l00067"></a>00067 {
<a name="l00068"></a>00068  <span class="keyword">public</span>:
<a name="l00069"></a>00069    <a class="code" href="class_meter_update_queue.html#dea4979d2ca992af5449cb3ceff7df27">MeterUpdateQueue</a>(<span class="keywordtype">int</span> maxLen);
<a name="l00070"></a>00070    <a class="code" href="class_meter_update_queue.html#a693d95ad71cc693f827dbb28ecb5925">~MeterUpdateQueue</a>();
<a name="l00071"></a>00071 
<a name="l00072"></a>00072    <span class="keywordtype">bool</span> <a class="code" href="class_meter_update_queue.html#1f6f9468195fb32d1fd60b8686000543">Put</a>(<a class="code" href="class_meter_update_msg.html" title="Message used to update the Meter.">MeterUpdateMsg</a> &amp;msg);
<a name="l00073"></a>00073    <span class="keywordtype">bool</span> <a class="code" href="class_meter_update_queue.html#d03bd73cff09286c56654a26140bf389">Get</a>(<a class="code" href="class_meter_update_msg.html" title="Message used to update the Meter.">MeterUpdateMsg</a> &amp;msg);
<a name="l00074"></a>00074 
<a name="l00075"></a>00075    <span class="keywordtype">void</span> <a class="code" href="class_meter_update_queue.html#f23d9f82420916b442c3ed37af2ace05">Clear</a>();
<a name="l00076"></a>00076 
<a name="l00077"></a>00077  <span class="keyword">private</span>:
<a name="l00078"></a><a class="code" href="class_meter_update_queue.html#8e15bcd10e445146fc215e223f5e8673">00078</a>    <span class="keywordtype">int</span>              <a class="code" href="class_meter_update_queue.html#8e15bcd10e445146fc215e223f5e8673">mStart</a>;
<a name="l00079"></a><a class="code" href="class_meter_update_queue.html#af5381e835b535e4040441fc6a461e6d">00079</a>    <span class="keywordtype">int</span>              <a class="code" href="class_meter_update_queue.html#af5381e835b535e4040441fc6a461e6d">mEnd</a>;
<a name="l00080"></a><a class="code" href="class_meter_update_queue.html#b55450bc9b432db0371b9026dabefc16">00080</a>    <span class="keywordtype">int</span>              <a class="code" href="class_meter_update_queue.html#b55450bc9b432db0371b9026dabefc16">mBufferSize</a>;
<a name="l00081"></a><a class="code" href="class_meter_update_queue.html#40d970fa718c37e2cfaf3ca7cc61c4a1">00081</a>    <a class="code" href="class_meter_update_msg.html" title="Message used to update the Meter.">MeterUpdateMsg</a>  *<a class="code" href="class_meter_update_queue.html#40d970fa718c37e2cfaf3ca7cc61c4a1">mBuffer</a>;
<a name="l00082"></a>00082 };
<a name="l00083"></a>00083 
<a name="l00084"></a><a class="code" href="class_meter.html">00084</a> <span class="keyword">class </span><a class="code" href="class_meter.html" title="VU Meter, for displaying recording/playback level.">Meter</a> : <span class="keyword">public</span> wxPanel
<a name="l00085"></a>00085 {
<a name="l00086"></a>00086    DECLARE_DYNAMIC_CLASS(<a class="code" href="class_meter.html" title="VU Meter, for displaying recording/playback level.">Meter</a>)
<a name="l00087"></a>00087 
<a name="l00088"></a>00088  <span class="keyword">public</span>:
<a name="l00089"></a>00089    <span class="comment">// These should be kept in the same order as they appear</span>
<a name="l00090"></a>00090    <span class="comment">// in the menu</span>
<a name="l00091"></a><a class="code" href="class_meter.html#d530f6dcdd5d69c0380edc4441bec5a9">00091</a>    <span class="keyword">enum</span> <a class="code" href="class_meter.html#d530f6dcdd5d69c0380edc4441bec5a9">Style</a> {
<a name="l00092"></a><a class="code" href="class_meter.html#d530f6dcdd5d69c0380edc4441bec5a917ea8bf51dd8fb95c0497297d58ed691">00092</a>       <a class="code" href="class_meter.html#d530f6dcdd5d69c0380edc4441bec5a917ea8bf51dd8fb95c0497297d58ed691">HorizontalStereo</a>,
<a name="l00093"></a><a class="code" href="class_meter.html#d530f6dcdd5d69c0380edc4441bec5a9f57ec4e9b105d74e6f5c99c4047a0a7e">00093</a>       <a class="code" href="class_meter.html#d530f6dcdd5d69c0380edc4441bec5a9f57ec4e9b105d74e6f5c99c4047a0a7e">VerticalStereo</a>,
<a name="l00094"></a><a class="code" href="class_meter.html#d530f6dcdd5d69c0380edc4441bec5a95b16073b6f750e4893654ee7b59b8631">00094</a>       <a class="code" href="class_meter.html#d530f6dcdd5d69c0380edc4441bec5a95b16073b6f750e4893654ee7b59b8631">VerticalMulti</a>,
<a name="l00095"></a><a class="code" href="class_meter.html#d530f6dcdd5d69c0380edc4441bec5a906a1dae1c457b0a524d402dd9fb348a7">00095</a>       <a class="code" href="class_meter.html#d530f6dcdd5d69c0380edc4441bec5a906a1dae1c457b0a524d402dd9fb348a7">Equalizer</a>,
<a name="l00096"></a><a class="code" href="class_meter.html#d530f6dcdd5d69c0380edc4441bec5a94df1775aede22de96f591246c4a22086">00096</a>       <a class="code" href="class_meter.html#d530f6dcdd5d69c0380edc4441bec5a94df1775aede22de96f591246c4a22086">Waveform</a>, 
<a name="l00097"></a><a class="code" href="class_meter.html#d530f6dcdd5d69c0380edc4441bec5a932a97b9333a5c48c9b0a1d923e03c6e6">00097</a>       <a class="code" href="class_mixer_track_cluster.html">MixerTrackCluster</a> <span class="comment">// Doesn't show menu, icon, or L/R labels, but otherwise like VerticalStereo.</span>
<a name="l00098"></a>00098    };
<a name="l00099"></a>00099 
<a name="l00100"></a>00100 
<a name="l00101"></a>00101    <a class="code" href="class_meter.html#661a87c54e95b0cc72eeafb221c1d5fc">Meter</a>(wxWindow* parent, wxWindowID <span class="keywordtype">id</span>,
<a name="l00102"></a>00102          <span class="keywordtype">bool</span> isInput,
<a name="l00103"></a>00103          <span class="keyword">const</span> wxPoint&amp; pos = wxDefaultPosition,
<a name="l00104"></a>00104          <span class="keyword">const</span> wxSize&amp; size = wxDefaultSize, 
<a name="l00105"></a>00105          <a class="code" href="class_meter.html#d530f6dcdd5d69c0380edc4441bec5a9">Style</a> style = <a class="code" href="class_meter.html#d530f6dcdd5d69c0380edc4441bec5a917ea8bf51dd8fb95c0497297d58ed691">HorizontalStereo</a>, 
<a name="l00106"></a>00106          <span class="keywordtype">float</span> fDecayRate = 60.0f);
<a name="l00107"></a>00107 
<a name="l00108"></a>00108    <a class="code" href="class_meter.html#7f152fa166e30cb157bcc8a71bda53f9">~Meter</a>();
<a name="l00109"></a>00109 
<a name="l00110"></a>00110    <span class="keywordtype">void</span> <a class="code" href="class_meter.html#65d6a3b400fdc3fab3776a89d8a5182c">UpdatePrefs</a>();
<a name="l00111"></a>00111    <span class="keywordtype">void</span> <a class="code" href="class_meter.html#29e7cd76413492193f25558dbaf1792f">Clear</a>();
<a name="l00112"></a>00112 
<a name="l00113"></a><a class="code" href="class_meter.html#6b2a1ba157a7cc3aa95137191ed5cc1b">00113</a>    <a class="code" href="class_meter.html#d530f6dcdd5d69c0380edc4441bec5a9">Style</a> <a class="code" href="class_meter.html#6b2a1ba157a7cc3aa95137191ed5cc1b">GetStyle</a>() { <span class="keywordflow">return</span> <a class="code" href="class_meter.html#1588832dd3f091fa4e37a45893e3a6f3">mStyle</a>; }
<a name="l00114"></a>00114    <span class="keywordtype">void</span> <a class="code" href="class_meter.html#74bc7681384b6321c099ae3dd6720eaf">SetStyle</a>(<a class="code" href="class_meter.html#d530f6dcdd5d69c0380edc4441bec5a9">Style</a> newStyle);
<a name="l00115"></a>00115 
<a name="l00121"></a>00121    <span class="keywordtype">void</span> <a class="code" href="class_meter.html#7a885954189425320cba8731d5f2fdd1" title="This method is thread-safe! Feel free to call from a different thread (like from...">Reset</a>(<span class="keywordtype">double</span> sampleRate, <span class="keywordtype">bool</span> resetClipping);
<a name="l00122"></a>00122 
<a name="l00145"></a>00145    <span class="keywordtype">void</span> <a class="code" href="class_meter.html#91ec3a86b474cd23a470677466093cda" title="Update the meters with a block of audio data.">UpdateDisplay</a>(<span class="keywordtype">int</span> numChannels,
<a name="l00146"></a>00146                       <span class="keywordtype">int</span> numFrames, <span class="keywordtype">float</span> *sampleData);
<a name="l00147"></a>00147    <span class="keywordtype">void</span> <a class="code" href="class_meter.html#91ec3a86b474cd23a470677466093cda" title="Update the meters with a block of audio data.">UpdateDisplay</a>(<span class="keywordtype">int</span> numChannels, <span class="keywordtype">int</span> numFrames, 
<a name="l00148"></a>00148                         <span class="comment">// Need to make these double-indexed max and min arrays if we handle more than 2 channels.</span>
<a name="l00149"></a>00149                         <span class="keywordtype">float</span>* maxLeft, <span class="keywordtype">float</span>* rmsLeft, 
<a name="l00150"></a>00150                         <span class="keywordtype">float</span>* maxRight, <span class="keywordtype">float</span>* rmsRight, 
<a name="l00151"></a>00151                         <span class="keyword">const</span> <a class="code" href="_sequence_8h.html#c464776e216051832ee476fb45c7fedd">sampleCount</a> kSampleCount);
<a name="l00152"></a>00152 
<a name="l00158"></a>00158    <span class="keywordtype">bool</span> <a class="code" href="class_meter.html#dcd0395583ee22fb1244e71c2db8267e" title="Find out if the level meter is disabled or not.">IsMeterDisabled</a>();
<a name="l00159"></a>00159    
<a name="l00160"></a>00160    <span class="keywordtype">float</span> <a class="code" href="class_meter.html#66b3197e0170ee7e033b4b59a3af9b4c">GetMaxPeak</a>();
<a name="l00161"></a>00161 
<a name="l00162"></a>00162    <span class="keywordtype">double</span> <a class="code" href="class_meter.html#352995e8fd71932cda03cb8cf8338080">ToLinearIfDB</a>(<span class="keywordtype">double</span> value);
<a name="l00163"></a>00163 
<a name="l00164"></a>00164    <span class="comment">//</span>
<a name="l00165"></a>00165    <span class="comment">// Event handlers</span>
<a name="l00166"></a>00166    <span class="comment">//</span>
<a name="l00167"></a>00167 
<a name="l00168"></a>00168    <span class="keywordtype">void</span> <a class="code" href="class_meter.html#938edb552ba59422d9a5da3aeeba979d">OnErase</a>(wxEraseEvent &amp;evt);
<a name="l00169"></a>00169    <span class="keywordtype">void</span> <a class="code" href="class_meter.html#7b54d09268498ebf3bf7f83d4c9ec14b">OnPaint</a>(wxPaintEvent &amp;evt);
<a name="l00170"></a>00170    <span class="keywordtype">void</span> <a class="code" href="class_meter.html#6c7a445291f30ba5e4dd74fae50130a8">OnSize</a>(wxSizeEvent &amp;evt);
<a name="l00171"></a>00171    <span class="keywordtype">void</span> <a class="code" href="class_meter.html#925d8811f40651af292bc510964029c2">OnMouse</a>(wxMouseEvent &amp;evt);
<a name="l00172"></a>00172 
<a name="l00173"></a>00173    <span class="keywordtype">void</span> <a class="code" href="class_meter.html#a9407cf314bdd6898d8156392fd91289">OnMeterUpdate</a>(wxTimerEvent &amp;evt);
<a name="l00174"></a>00174 
<a name="l00175"></a>00175    <span class="keywordtype">void</span> <a class="code" href="class_meter.html#926e6970ce19cd0a4300fff777ccd93b">HandlePaint</a>(wxDC &amp;dc);
<a name="l00176"></a>00176    <span class="keywordtype">void</span> <a class="code" href="class_meter.html#bd62c7e6f46e799afcd660829c3a8b16">HandleLayout</a>();
<a name="l00177"></a>00177 
<a name="l00178"></a>00178    <span class="comment">//</span>
<a name="l00179"></a>00179    <span class="comment">// Pop-up menu handlers</span>
<a name="l00180"></a>00180    <span class="comment">//</span>
<a name="l00181"></a>00181 
<a name="l00182"></a>00182    <span class="keywordtype">void</span> <a class="code" href="class_meter.html#67d9186e69b00825ea453eca20d624a0">OnDisableMeter</a>(wxCommandEvent &amp;evt);
<a name="l00183"></a>00183    <span class="keywordtype">void</span> <a class="code" href="class_meter.html#724e207f2f6dc2509a71f7d9c3ec6af7">OnHorizontal</a>(wxCommandEvent &amp;evt);
<a name="l00184"></a>00184    <span class="keywordtype">void</span> <a class="code" href="class_meter.html#609b06978a04040f1a0d17f3fdd70f76">OnVertical</a>(wxCommandEvent &amp;evt);
<a name="l00185"></a>00185    <span class="keywordtype">void</span> <a class="code" href="class_meter.html#a4ed2c73c4f9dfc5852dfca42469179c">OnMulti</a>(wxCommandEvent &amp;evt);
<a name="l00186"></a>00186    <span class="keywordtype">void</span> <a class="code" href="class_meter.html#0dffcf5013dc290e8bdc4c3ff3bee43c">OnEqualizer</a>(wxCommandEvent &amp;evt);
<a name="l00187"></a>00187    <span class="keywordtype">void</span> <a class="code" href="class_meter.html#e7f74dd29281ca4f1cb2f73209f886fe">OnWaveform</a>(wxCommandEvent &amp;evt);
<a name="l00188"></a>00188    <span class="keywordtype">void</span> <a class="code" href="class_meter.html#29018ff8b066af2b0a92bc255be440fe">OnLinear</a>(wxCommandEvent &amp;evt);
<a name="l00189"></a>00189    <span class="keywordtype">void</span> <a class="code" href="class_meter.html#31ffbebf34b292a008698a75c2207db1">OnDB</a>(wxCommandEvent &amp;evt);
<a name="l00190"></a>00190    <span class="keywordtype">void</span> <a class="code" href="class_meter.html#edc13aca73f775f03a7c05a16d438dc7">OnClip</a>(wxCommandEvent &amp;evt);
<a name="l00191"></a>00191    <span class="keywordtype">void</span> <a class="code" href="class_meter.html#387f965ea23f25ceb5100da18795eca3">OnMonitor</a>(wxCommandEvent &amp;evt);
<a name="l00192"></a>00192 <span class="preprocessor">#ifdef AUTOMATED_INPUT_LEVEL_ADJUSTMENT</span>
<a name="l00193"></a>00193 <span class="preprocessor"></span>   <span class="keywordtype">void</span> OnAutomatedInputLevelAdjustment(wxCommandEvent &amp;evt);
<a name="l00194"></a>00194 <span class="preprocessor">#endif</span>
<a name="l00195"></a>00195 <span class="preprocessor"></span>   <span class="keywordtype">void</span> <a class="code" href="class_meter.html#3afba9ecc5622c73b0427b2412bfe83b">OnFloat</a>(wxCommandEvent &amp;evt);
<a name="l00196"></a>00196    <span class="keywordtype">void</span> <a class="code" href="class_meter.html#1c273663ea5a26b47122c00812f84a7f">OnPreferences</a>(wxCommandEvent &amp;evt);
<a name="l00197"></a>00197    <span class="keywordtype">bool</span> <a class="code" href="class_meter.html#8408efdbf394b68df0e05b03dce6d2ae">IsClipping</a>();
<a name="l00198"></a>00198    
<a name="l00199"></a>00199    <span class="keywordtype">void</span> <a class="code" href="class_meter.html#518732eb25bdc5ddab7795df10c7857c">StartMonitoring</a>();
<a name="l00200"></a>00200 
<a name="l00201"></a>00201  <span class="keyword">private</span>:
<a name="l00202"></a>00202    <span class="keywordtype">void</span> <a class="code" href="class_meter.html#5bef116a3b42c89a3271a267f138c288">DrawMeterBar</a>(wxDC &amp;dc, <a class="code" href="struct_meter_bar.html" title="A struct used by Meter to hold the position of one bar.">MeterBar</a> *meterBar);
<a name="l00203"></a>00203    <span class="keywordtype">void</span> <a class="code" href="class_meter.html#579e6e288ae41119267c8cc9b0a8e4dc">ResetBar</a>(<a class="code" href="struct_meter_bar.html" title="A struct used by Meter to hold the position of one bar.">MeterBar</a> *bar, <span class="keywordtype">bool</span> resetClipping);
<a name="l00204"></a>00204    <span class="keywordtype">void</span> <a class="code" href="class_meter.html#f3f4d118ded64661bd7ed387087b5cb8">RepaintBarsNow</a>();
<a name="l00205"></a>00205    <span class="keywordtype">void</span> <a class="code" href="class_meter.html#6de6e1b50a600e335e70113800c2fbdc">CreateIcon</a>(<span class="keywordtype">int</span> aquaOffset);
<a name="l00206"></a>00206    wxFont <a class="code" href="class_meter.html#2d58eb1430b4b4389ab2939d6d8e7841">GetFont</a>();
<a name="l00207"></a>00207 
<a name="l00208"></a><a class="code" href="class_meter.html#7745ce21e33b2c56b88d0091e01b6d75">00208</a>    <a class="code" href="class_meter_update_queue.html" title="Queue of MeterUpdateMsg used to feed the Meter.">MeterUpdateQueue</a> <a class="code" href="class_meter.html#7745ce21e33b2c56b88d0091e01b6d75">mQueue</a>;
<a name="l00209"></a><a class="code" href="class_meter.html#ca368cfb7b8bfc504da5286480c0f3ce">00209</a>    wxTimer          <a class="code" href="class_meter.html#ca368cfb7b8bfc504da5286480c0f3ce">mTimer</a>;
<a name="l00210"></a>00210 
<a name="l00211"></a><a class="code" href="class_meter.html#1640258c056fc31e1fdeb4c79b87c2b6">00211</a>    <span class="keywordtype">int</span>       <a class="code" href="class_meter.html#1640258c056fc31e1fdeb4c79b87c2b6">mWidth</a>;
<a name="l00212"></a><a class="code" href="class_meter.html#30687c29a11ce210e669b2eed37387b0">00212</a>    <span class="keywordtype">int</span>       <a class="code" href="class_meter.html#30687c29a11ce210e669b2eed37387b0">mHeight</a>;
<a name="l00213"></a>00213 
<a name="l00214"></a><a class="code" href="class_meter.html#c1319b7b58c03b24c56c9c252fab4805">00214</a>    <span class="keywordtype">bool</span>      <a class="code" href="class_meter.html#c1319b7b58c03b24c56c9c252fab4805">mIsInput</a>;
<a name="l00215"></a>00215 
<a name="l00216"></a><a class="code" href="class_meter.html#1588832dd3f091fa4e37a45893e3a6f3">00216</a>    <a class="code" href="class_meter.html#d530f6dcdd5d69c0380edc4441bec5a9">Style</a>     <a class="code" href="class_meter.html#1588832dd3f091fa4e37a45893e3a6f3">mStyle</a>, <a class="code" href="class_meter.html#960d51e8fb7ce2f96c9c61e20f06378e">mSavedStyle</a>;
<a name="l00217"></a><a class="code" href="class_meter.html#06414a9c99863277d30949f2ed54ba64">00217</a>    <span class="keywordtype">bool</span>      <a class="code" href="class_meter.html#06414a9c99863277d30949f2ed54ba64">mDB</a>;
<a name="l00218"></a><a class="code" href="class_meter.html#47d9f3346fd50ae661f99f8dc56ef25b">00218</a>    <span class="keywordtype">int</span>       <a class="code" href="class_meter.html#47d9f3346fd50ae661f99f8dc56ef25b">mDBRange</a>;
<a name="l00219"></a><a class="code" href="class_meter.html#b2d64dd90ce8154e68007dfd356a2d6e">00219</a>    <span class="keywordtype">bool</span>      <a class="code" href="class_meter.html#b2d64dd90ce8154e68007dfd356a2d6e">mDecay</a>;
<a name="l00220"></a><a class="code" href="class_meter.html#64f6ad39eec96ffc4cd49c094b7e3fa1">00220</a>    <span class="keywordtype">float</span>     <a class="code" href="class_meter.html#64f6ad39eec96ffc4cd49c094b7e3fa1">mDecayRate</a>; <span class="comment">// dB/sec</span>
<a name="l00221"></a><a class="code" href="class_meter.html#817d67b660047a4d2bdf510c99823db9">00221</a>    <span class="keywordtype">bool</span>      <a class="code" href="class_meter.html#817d67b660047a4d2bdf510c99823db9">mClip</a>;
<a name="l00222"></a><a class="code" href="class_meter.html#2d55a73b78662bec1550628a2bf17999">00222</a>    <span class="keywordtype">int</span>       <a class="code" href="class_meter.html#2d55a73b78662bec1550628a2bf17999">mNumPeakSamplesToClip</a>;
<a name="l00223"></a><a class="code" href="class_meter.html#38d41c8374c0fe77b21746de45d6b576">00223</a>    <span class="keywordtype">double</span>    <a class="code" href="class_meter.html#38d41c8374c0fe77b21746de45d6b576">mPeakHoldDuration</a>;
<a name="l00224"></a><a class="code" href="class_meter.html#03f3b5c90ffc856043a5385a0cef177f">00224</a>    <span class="keywordtype">double</span>    <a class="code" href="class_meter.html#03f3b5c90ffc856043a5385a0cef177f">mT</a>;
<a name="l00225"></a><a class="code" href="class_meter.html#bb458914d834ac94fc082a9dd5fa7438">00225</a>    <span class="keywordtype">double</span>    <a class="code" href="class_meter.html#bb458914d834ac94fc082a9dd5fa7438">mRate</a>;
<a name="l00226"></a><a class="code" href="class_meter.html#350e0a1c0167133cb6f7346ddf90ad80">00226</a>    <span class="keywordtype">long</span>      <a class="code" href="class_meter.html#350e0a1c0167133cb6f7346ddf90ad80">mMeterRefreshRate</a>;
<a name="l00227"></a><a class="code" href="class_meter.html#7480988861875686886f14781fec2056">00227</a>    <span class="keywordtype">long</span>      <a class="code" href="class_meter.html#7480988861875686886f14781fec2056">mMeterDisabled</a>; <span class="comment">//is used as a bool, needs long for easy gPrefs...</span>
<a name="l00228"></a>00228 
<a name="l00229"></a><a class="code" href="class_meter.html#154a86dfcbbc5ac0f381a172b502c611">00229</a>    <span class="keywordtype">int</span>       <a class="code" href="class_meter.html#154a86dfcbbc5ac0f381a172b502c611">mNumBars</a>;
<a name="l00230"></a><a class="code" href="class_meter.html#2c26d9001b63509df88ef42aa14bfc74">00230</a>    <a class="code" href="struct_meter_bar.html" title="A struct used by Meter to hold the position of one bar.">MeterBar</a>  <a class="code" href="class_meter.html#2c26d9001b63509df88ef42aa14bfc74">mBar</a>[<a class="code" href="_meter_8h.html#378e3b97f3b428008f261c1106c8852e">kMaxMeterBars</a>];
<a name="l00231"></a>00231 
<a name="l00232"></a><a class="code" href="class_meter.html#4416a06cd793f984f6bdbfca21dd4bfc">00232</a>    <span class="keywordtype">bool</span>      <a class="code" href="class_meter.html#4416a06cd793f984f6bdbfca21dd4bfc">mLayoutValid</a>;
<a name="l00233"></a>00233 
<a name="l00234"></a><a class="code" href="class_meter.html#60eee6b2ecb66e4dee017d4e2dcedeca">00234</a>    wxBitmap *<a class="code" href="class_meter.html#60eee6b2ecb66e4dee017d4e2dcedeca">mBitmap</a>;
<a name="l00235"></a><a class="code" href="class_meter.html#d49fc0a694355b1cf4d632e923b57a92">00235</a>    wxRect    <a class="code" href="class_meter.html#d49fc0a694355b1cf4d632e923b57a92">mMenuRect</a>;
<a name="l00236"></a><a class="code" href="class_meter.html#34741a4cdb78b215a801736a7ed85c98">00236</a>    wxPoint   <a class="code" href="class_meter.html#34741a4cdb78b215a801736a7ed85c98">mIconPos</a>;
<a name="l00237"></a><a class="code" href="class_meter.html#d3508ab31b7512c54a5cbc9b7a6d66a8">00237</a>    wxPoint   <a class="code" href="class_meter.html#d3508ab31b7512c54a5cbc9b7a6d66a8">mLeftTextPos</a>;
<a name="l00238"></a><a class="code" href="class_meter.html#6b7d0626b0942ca5890eb800dc96b196">00238</a>    wxPoint   <a class="code" href="class_meter.html#6b7d0626b0942ca5890eb800dc96b196">mRightTextPos</a>;
<a name="l00239"></a><a class="code" href="class_meter.html#a16ee77a15fd9c507a1fd02252d664ac">00239</a>    wxSize    <a class="code" href="class_meter.html#a16ee77a15fd9c507a1fd02252d664ac">mLeftSize</a>;
<a name="l00240"></a><a class="code" href="class_meter.html#c16ab43ccd57a50df93269284c130999">00240</a>    wxSize    <a class="code" href="class_meter.html#c16ab43ccd57a50df93269284c130999">mRightSize</a>;
<a name="l00241"></a><a class="code" href="class_meter.html#03e5d4df66bb8db063e53e64113592fe">00241</a>    wxBitmap *<a class="code" href="class_meter.html#03e5d4df66bb8db063e53e64113592fe">mIcon</a>;
<a name="l00242"></a><a class="code" href="class_meter.html#b9730c9b4351ff049ddf90a3e3bef0ac">00242</a>    wxPen     <a class="code" href="class_meter.html#b9730c9b4351ff049ddf90a3e3bef0ac">mPen</a>;
<a name="l00243"></a><a class="code" href="class_meter.html#88f31c0dbbbabb0d8963b6a13b4e2c43">00243</a>    wxPen     <a class="code" href="class_meter.html#88f31c0dbbbabb0d8963b6a13b4e2c43">mLightPen</a>;
<a name="l00244"></a><a class="code" href="class_meter.html#139b2f318bf514058f0ad93ecba20521">00244</a>    wxPen     <a class="code" href="class_meter.html#139b2f318bf514058f0ad93ecba20521">mSavedLightPen</a>;
<a name="l00245"></a><a class="code" href="class_meter.html#053b1d603259c82074cd655980cbccf1">00245</a>    wxPen     <a class="code" href="class_meter.html#053b1d603259c82074cd655980cbccf1">mDarkPen</a>;
<a name="l00246"></a><a class="code" href="class_meter.html#bf93fffb03a8190b2fd7c36443445666">00246</a>    wxPen     <a class="code" href="class_meter.html#bf93fffb03a8190b2fd7c36443445666">mSavedDarkPen</a>;
<a name="l00247"></a><a class="code" href="class_meter.html#517b3c6b7be914fe48d73e54c345d17f">00247</a>    wxPen     <a class="code" href="class_meter.html#517b3c6b7be914fe48d73e54c345d17f">mDisabledPen</a>;
<a name="l00248"></a><a class="code" href="class_meter.html#02c291c977a1b36bbfb9a6c2882fa54c">00248</a>    wxPen     <a class="code" href="class_meter.html#02c291c977a1b36bbfb9a6c2882fa54c">mPeakPeakPen</a>;
<a name="l00249"></a><a class="code" href="class_meter.html#3c46ef3d2156986eb514279f79724620">00249</a>    wxBrush   <a class="code" href="class_meter.html#3c46ef3d2156986eb514279f79724620">mBrush</a>;
<a name="l00250"></a><a class="code" href="class_meter.html#2b1bd4b1589b2d380f048736cb910997">00250</a>    wxBrush   <a class="code" href="class_meter.html#2b1bd4b1589b2d380f048736cb910997">mRMSBrush</a>;
<a name="l00251"></a><a class="code" href="class_meter.html#958ddbdc3347c549a59192bc7b7ad305">00251</a>    wxBrush   <a class="code" href="class_meter.html#958ddbdc3347c549a59192bc7b7ad305">mClipBrush</a>;
<a name="l00252"></a><a class="code" href="class_meter.html#78b1c968ee4c28143a2d36aa2498cfd8">00252</a>    wxBrush   <a class="code" href="class_meter.html#78b1c968ee4c28143a2d36aa2498cfd8">mBkgndBrush</a>;
<a name="l00253"></a><a class="code" href="class_meter.html#3e19483b9d987e91cfccab5a0e65b892">00253</a>    wxBrush   <a class="code" href="class_meter.html#3e19483b9d987e91cfccab5a0e65b892">mSavedBkgndBrush</a>;
<a name="l00254"></a><a class="code" href="class_meter.html#76df7e0a7f019f449db6cc6fb96097ce">00254</a>    wxBrush   <a class="code" href="class_meter.html#76df7e0a7f019f449db6cc6fb96097ce">mSavedBrush</a>;
<a name="l00255"></a><a class="code" href="class_meter.html#68dca9c9e73232116ef2fdacf027fb9b">00255</a>    wxBrush   <a class="code" href="class_meter.html#68dca9c9e73232116ef2fdacf027fb9b">mSavedRMSBrush</a>;
<a name="l00256"></a><a class="code" href="class_meter.html#8fb1c3862a0a4638814d6c9f4d47ba35">00256</a>    wxBrush   <a class="code" href="class_meter.html#8fb1c3862a0a4638814d6c9f4d47ba35">mDisabledBkgndBrush</a>;
<a name="l00257"></a><a class="code" href="class_meter.html#2d781d4626f49b5c14dea0873374976d">00257</a>    wxRect    <a class="code" href="class_meter.html#2d781d4626f49b5c14dea0873374976d">mAllBarsRect</a>;
<a name="l00258"></a><a class="code" href="class_meter.html#d7ea06126443ec18fc9162624283835d">00258</a>    <a class="code" href="class_ruler.html" title="Used to display a Ruler.">Ruler</a>     <a class="code" href="class_meter.html#d7ea06126443ec18fc9162624283835d">mRuler</a>;
<a name="l00259"></a>00259 
<a name="l00260"></a>00260    DECLARE_EVENT_TABLE()
<a name="l00261"></a>00261 };
<a name="l00262"></a>00262 
<a name="l00263"></a>00263 <span class="preprocessor">#endif // __AUDACITY_METER__</span>
<a name="l00264"></a>00264 <span class="preprocessor"></span>
<a name="l00265"></a>00265 <span class="comment">// Indentation settings for Vim and Emacs.</span>
<a name="l00266"></a>00266 <span class="comment">// Please do not modify past this point.</span>
<a name="l00267"></a>00267 <span class="comment">//</span>
<a name="l00268"></a>00268 <span class="comment">// Local Variables:</span>
<a name="l00269"></a>00269 <span class="comment">// c-basic-offset: 3</span>
<a name="l00270"></a>00270 <span class="comment">// indent-tabs-mode: nil</span>
<a name="l00271"></a>00271 <span class="comment">// End:</span>
<a name="l00272"></a>00272 <span class="comment">//</span>
<a name="l00273"></a>00273 <span class="comment">// vim: et sts=3 sw=3</span>
<a name="l00274"></a>00274 <span class="comment">// </span>
</pre></div></div>
<hr size="1"><address style="text-align: right;"><small>Generated on Sat Feb 20 20:49:14 2010 for Audacity by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
